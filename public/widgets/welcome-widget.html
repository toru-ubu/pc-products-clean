<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>イヤバズDB ウィジェット</title>
    <link rel="stylesheet" href="http://localhost:3000/widgets/welcome-widget.css">
</head>
<body>
    <div id="earbuds-widget-container">
        <!-- メイン検索エリア -->
        <div class="max-w-2xl mx-auto px-4 py-8">
            <!-- 説明テキスト -->
            <div class="description-text mb-8">
                ゲーミングPCをメーカー横断で探せる<br>
                日本最大のゲーミングPC検索データベース
            </div>

            <!-- 上段：メーカー、GPU（横並び） -->
            <div class="filter-buttons-row mb-8">
                <!-- メーカーから探す -->
                <button
                    id="maker-filter-btn"
                    class="filter-btn"
                    onclick="openMakerModal()"
                >
                    メーカーから探す
                </button>

                <!-- GPUから探す -->
                <button
                    id="gpu-filter-btn"
                    class="filter-btn"
                    onclick="openGpuModal()"
                >
                    GPUから探す
                </button>
            </div>

            <!-- 下段：キーワード検索 -->
            <div class="search-section">
                <div class="search-input-group">
                    <input
                        type="text"
                        id="keyword-input"
                        class="search-input"
                        placeholder="メーカー・スペック・キーワード"
                        onkeypress="handleKeywordKeyPress(event)"
                    />
                    <button
                        id="keyword-search-btn"
                        class="search-btn"
                        onclick="executeKeywordSearch()"
                    >
                        検索
                    </button>
                </div>
            </div>
        </div>

        <!-- メーカーモーダル -->
        <div id="maker-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content" onclick="event.stopPropagation()">
                <button class="modal-close" onclick="closeMakerModal()">×</button>
                <h2 class="modal-header">メーカーを選択</h2>
                <div class="filter-options-grid" id="maker-options">
                    <!-- メーカーオプションが動的に追加されます -->
                </div>
                <div class="modal-button-group">
                    <button class="btn-primary" onclick="applyMakerFilter()">適用して検索</button>
                </div>
            </div>
        </div>

        <!-- GPUモーダル -->
        <div id="gpu-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content" onclick="event.stopPropagation()">
                <button class="modal-close" onclick="closeGpuModal()">×</button>
                <h2 class="modal-header">GPUを選択</h2>
                <div class="hierarchical-filter-container" id="gpu-options">
                    <!-- GPUオプションが動的に追加されます -->
                </div>
                <div class="modal-button-group">
                    <button class="btn-primary" onclick="applyGpuFilter()">適用して検索</button>
                </div>
            </div>
        </div>
    </div>

    <script src="http://localhost:3000/widgets/welcome-widget.js"></script>
</body>
</html>
